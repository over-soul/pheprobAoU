% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/allofus_data_extraction.R
\name{extract_allofus_pheprob_data}
\alias{extract_allofus_pheprob_data}
\title{All of Us Data Extraction Functions}
\usage{
extract_allofus_pheprob_data(
  concept_ids,
  person_ids = NULL,
  domains = c("condition_occurrence", "procedure_occurrence", "drug_exposure",
    "measurement", "observation"),
  date_range = NULL,
  expand_concepts = TRUE,
  max_persons = NULL
)
}
\arguments{
\item{concept_ids}{A numeric vector of disease-relevant OMOP concept IDs}

\item{person_ids}{A numeric vector of person IDs. If NULL, includes all available persons.}

\item{domains}{A character vector specifying which OMOP domains to include.
Default: c("condition_occurrence", "procedure_occurrence", "drug_exposure", "measurement", "observation")}

\item{date_range}{A list with 'start' and 'end' dates (Date objects) to limit
the temporal scope of data extraction. If NULL, no date filtering is applied.}

\item{expand_concepts}{Logical indicating whether to expand concept hierarchies using concept_ancestor}

\item{max_persons}{Maximum number of persons to process (for testing/limiting).
If NULL, processes all available persons.}
}
\value{
A tibble with columns required for binomial mixture model:
\item{person_id}{Person identifier}
\item{S}{Disease-relevant code count}
\item{C}{Total healthcare code count}
\item{success_rate}{S/C ratio}
}
\description{
This file contains functions that properly use the allofus package
for data extraction, replacing the raw SQL approach.
Extract Healthcare Utilization Using AllofUs Package
}
\details{
Extracts total healthcare utilization and disease-relevant counts using
proper allofus package functions and dbplyr remote computation.
}
\examples{
\dontrun{
# Extract data for diabetes phenotyping
diabetes_concepts <- c(201826, 4329847, 9201)
pheprob_data <- extract_allofus_pheprob_data(diabetes_concepts)
}
}
