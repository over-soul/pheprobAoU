% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/allofus_data_extraction.R
\name{view_expanded_concepts}
\alias{view_expanded_concepts}
\title{View Expanded Disease Concepts from Hierarchy}
\usage{
view_expanded_concepts(
  concept_ids,
  include_names = TRUE,
  include_original = TRUE,
  max_concepts = NULL
)
}
\arguments{
\item{concept_ids}{A numeric vector of OMOP concept IDs to expand}

\item{include_names}{Logical indicating whether to include concept names and 
additional metadata (default: TRUE)}

\item{include_original}{Logical indicating whether to include the original 
concepts in the output (default: TRUE)}

\item{max_concepts}{Maximum number of concepts to return (default: NULL for no limit)}
}
\value{
A tibble with expanded concept information:
  \item{concept_id}{OMOP concept identifier (descendant)}
  \item{concept_name}{Human-readable concept name (if include_names = TRUE)}
  \item{domain_id}{OMOP domain (if include_names = TRUE)}
  \item{vocabulary_id}{OMOP vocabulary (if include_names = TRUE)}
  \item{concept_class_id}{OMOP concept class (if include_names = TRUE)}
  \item{is_original}{Whether this was one of the input concepts (if include_original = TRUE)}
}
\description{
Displays what concepts are included when concept hierarchy expansion is applied
to the provided input concepts. This function helps users understand what
additional concepts are included in their phenotype definitions through the
OMOP concept_ancestor relationships.
}
\details{
This function uses the same concept expansion logic as the main phenotyping
functions in pheprobAoU. It queries the concept_ancestor table to find all
descendant concepts for the provided concept IDs, giving users visibility
into what concepts are actually included in their analyses.

The expansion includes:
- All descendant concepts from the OMOP concept hierarchy
- Deduplication of concept mappings
- Optional inclusion of concept names and metadata
- Optional filtering to manageable result sizes
}
\examples{
\dontrun{
# View expanded diabetes concepts
diabetes_concepts <- c(201820, 201826, 4193704)
expanded <- view_expanded_concepts(diabetes_concepts)
print(expanded)

# View just concept IDs without names (faster)
expanded_ids_only <- view_expanded_concepts(
  diabetes_concepts, 
  include_names = FALSE
)

# Limit results to first 100 concepts
expanded_limited <- view_expanded_concepts(
  diabetes_concepts,
  max_concepts = 100
)
}
}
